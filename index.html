<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ channel }} in {{ group }} :: Bonfire</title>
    <!-- <title>#channel in GroupName :: Bonfire</title> -->
    <!-- <title>@username@instance.tld :: Bonfire</title> -->

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&family=Noto+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
</head>
<style>

/* THEME STYLES: This is here because it is the defult, normally this would be 
an external stylesheet on the users computer in the app. Custom themes are not 
supported on the web client version*/
[theme*="ctp-mocha"] {

    /* Colors source: https://github.com/catppuccin/catppuccin#-palette */

    /* The following variables are NOT used by code and can be whatever you want. */
    --red: rgb(243, 139, 168);
    --maroon: rgb(235, 160, 172);
    --orange: rgb(250, 179, 135);
    --yellow: rgb(249, 226, 175);
    --green: rgb(166, 227, 161);
    --teal: rgb(148, 226, 213);
    --sky: rgb(137, 220, 235);
    --sapphire: rgb(116, 199, 236);
    --blue: rgb(137, 180, 250);
    --violet: rgb(180, 190, 254);
    
    /* All the rest of the variables ARE used by code and changing thier 
     * names WILL break things. */
    --accent-color-rgb: var(--sapphire);
    --accent-color: var(--sapphire);
    --hilight-color: rgb(116, 199, 236, 0.5);

    --color-danger: var(--red);
    --color-danger-disabled: rgb(243, 139, 168, 0.25);

    --color-warning: var(--yellow);
    --color-safe: var(--green);
    --color-cta: var(--accent-color);

    --group-bar-color: rgb(17, 17, 27);
    --border-color: rgb(17, 17, 27);
    --channels-bar-color: rgb(24, 24, 37);
    --ui-box-color: rgb(24, 24, 37);
    --overlay-darken-color: rgb(0, 0, 0, 0.45);

    --color-base: rgb(30, 30, 46);

    --text-color: rgb(198, 208, 245);
    --text-muted: rgb(161, 168, 201);
    --link-color: var(--sapphire);
    --link-text-decoration: none;

    --main-font: 'Noto Sans', sans-serif;
    /* 'Atkinson Hyperlegible', */
    --display-font: var(--main-font);
    --code-font: 'Hack', monospace;

    --groups-bar-width: 4rem;
    --channels-bar-width: clamp(12rem, 13.5vw, 30rem);

    --border-icon-radius: 1000rem; /* Always circle or capsule */
    --border-ui-box-radius: 6px;

    --textarea-max-height: 70vh;

    --round-button-size: 2.25rem;

    --large-margin: 0.75rem;
    --large-padding: 0.75rem;

    --standard-margin: 0.5rem;
    --standard-padding: 0.5rem;

    --small-margin: 0.25rem;
    --small-padding: 0.25rem;

    --message-spacing: 0.5rem;

    --popup-delay: 1000ms; 
}

/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */
/* html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type="button"],[type="reset"],[type="submit"],button{-webkit-appearance:button}[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none} */

::selection { 
    background-color: var(--hilight-color);
}

*, *::before, *::after { 
    box-sizing: border-box;
    -webkit-margin-collapse: collapse;
    margin-collapse: collapse;
    margin: 0;
}

a { 
    color: var(--link-color);
    text-decoration: var(--link-text-decoration);
}

body { 
    background-color: var(--group-bar-color);
}

app { 
    display: grid;

    grid-template-columns: var(--groups-bar-width) var(--channels-bar-width) 1fr;
    grid-template-rows: 1fr var(--groups-bar-width);

    grid-template-areas: 
    "groups channels messages"
    "profile profile messages";

    height: 100dvh;

    background-color: var(--color-base);
    font-family: var(--main-font);
    color: var(--text-color);
}

app, .absolute-pane { 
    overflow: hidden;
}

/* app > * {  */
    /* overflow-y: scroll; */
    /* overflow-x: hidden; */

    /* opacity: .5; */
/* } */

:not(.allow-ul) ul { 
    list-style: none;
    margin-left: -2.5rem;
}

.content text { 
    display: block;
}

.pfp { 
    width: 3rem;
    height: 3rem;
    background-size: cover;
    border-radius: var(--border-icon-radius);
}

/* nav { 
    overflow-x: inherit;
    overflow-y: scroll;
} */

/* 
nav .tooltip { 
    overflow-x: scroll;
    visibility: visible;
    display: block;
} */

nav * { 
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}

nav *::-webkit-scrollbar {
  display: none;
}

[role="groups"] { grid-area: groups; }
[role="channels"] { grid-area: channels; }
main { grid-area: messages; }
[role="profile"] { grid-area: profile; }



[role="groups"] { 
    background-color: var(--group-bar-color);
}

[role="groups"] ul { 
    /* overflow-y: scroll; */
}

[role="groups"] * { 
    background-size: cover;

    display: block;

    width: calc((var(--groups-bar-width) / 4) * 3);
    height: calc((var(--groups-bar-width) / 4) * 3);

    border-radius: var(--border-icon-radius);
}

[role="groups"] ul { 
    height: max-content;
}

[role="groups"] li { 
    margin: calc(var(--groups-bar-width) / 8)
}

[role="groups"] hr, .absolute-pane hr { 
    /* width: 80%; */
    height: 0px;
    padding: 0;

    border: 1px solid var(--channels-bar-color);
}

hr { 
    /* width: 80%; */
    height: 0px;
    margin: 0.15rem;
    padding: 0;

    border: 1px solid var(--border-color);
}

[role="groups"] hr { 
    margin: 10% 0.5rem;
}


[role="channels"] { 
    background-color: var(--channels-bar-color);
}



main { 
    display: grid;
    grid-template-rows: 2.5rem 1fr auto;

    overflow: hidden;
    scrollbar-color: var(--ctp-mocha-sapphire) var(--ctp-mocha-base);
    scrollbar-width: 6px;
}

main > ul { 
    padding: 0 3rem;
}

main > header { 
    background-color: var(--channels-bar-color);
}

main time { 
    margin-left: var(--standard-margin);
    font-size: 0.8rem;
    margin-top: 3px;
    color: var(--text-muted);

    opacity: 0;
}

.author { 
    font-weight: bold;
    margin-bottom: 0.5rem;
}

main ul { 
    overflow: scroll;

    scrollbar-color: var(--accent-color) var(--base-color);
    scrollbar-width: 6px;
}

main li:hover time { 
    margin-left: var(--standard-margin);
    font-size: 0.8rem;
    margin-top: 3px;
    color: var(--text-muted);

    opacity: 1;
}

main li { 
    display: grid;

    grid-template-columns: 4rem 1fr;
    margin: var(--message-spacing) 0px;
}

.message-area { 
    display: flex;
    background: transparent;

    border-top: 1px solid var(--ui-box-color);
}

.expandable-textarea {
    --message-box-buttons: 1;

    background-color: var(--ui-box-color);
    border-radius: var(--border-ui-box-radius);
    margin: 0.5rem 0px;

    width: calc(100% - 8rem);

    resize: none !important;
    font-family: inherit;
    font-size: inherit;
    padding: var(--standard-padding);

    display: block;
    width: calc(100% - 1rem - (var(--round-button-size) * var(--message-box-buttons)));
    overflow-y: scroll;
    resize: both;

    max-height: var(--textarea-max-height);
    min-height: 40px;
    line-height: 20px;
}

.expandable-textarea:empty::after { 
    --placeholder-message: "Send a message...";
    content: var(--placeholder-message);
    cursor: text;
}

.expandable-textarea::after { 
    --placeholder-message: "";
    content: "";

    color: var(--text-muted);
}


/* ☢️ You're playing a dangrous game, girl!
 * -----------------------------------------
 * Removing the outline on content makes it harder for people who navigate with 
 * keyboard as they can't see where the focus is. 
 * 
 * In this case, it should be fine as the cursor indicator is present but avoid
 * doing this in any other case unless you re-implement a focus state. 
 */
.expandable-textarea:focus { 
    outline: 0; /* See above warning */
}



header { 
    display: flex;
    font-family: var(--display-font);
}

.med-padding { 
    padding: var(--standard-padding);
}

[role="profile"] { 
    background-color: var(--channels-bar-color);
}



h1, h2, h3, h4, h5, h6 { 
    font-size: 1rem;
    font-weight: 400;
}

.muted { 
    color: var(--text-muted);
}

vr { 
    border-left: 1px solid var(--border-color);
    border-right: transparent;

    margin: 0px var(--standard-margin);

    height: 90%;
}

header vr + * {
    margin-left: auto;
} 

button { 
    background-color: var(--ui-box-color);
    border: 0;
    cursor: pointer;
    
}

.header-button { 
    width: 1.5rem;
    height: 1.5rem;
}

.round-button { 
    width: var(--round-button-size);
    height: var(--round-button-size);

    margin: var(--standard-margin);

    border-radius: 500rem;
}

svg { 
    fill: var(--text-color);

    margin-top: 2px;

    width: 1rem;
    height: 1rem;
}

*:hover > svg { 
    fill: var(--accent-color);
}

main li { 
    margin: var(--standard-margin);
}


/* ******** */

.button-rect-large { 
    padding: .5rem 1rem;
}

.button-rect { 
    padding: .35rem 1rem;

    border-radius: var(--border-ui-box-radius);
    font-size: 1rem;

    margin: var(--small-margin);

    color: var(--text-color);
}

.button-rect-small { 
    padding: .25rem 0.75rem;
    font-size: 0.9rem;
    margin: 0.5rem 0.35rem;
}

.button-normal:hover { 
    color: var(--accent-color);
}

.button-cta { 
    background-color: var(--accent-color);
    color: var(--ui-box-color);
    /* border: 1px solid var(--accent-color); */
}

.button-danger-wait {
    background-size: 200% 100%;
    background-image: linear-gradient(to right, var(--ui-box-color) 50%, var(--color-danger-disabled) 50%);
    -webkit-transition: background-position 2s;
    -moz-transition: background-position 2s;
    transition: background-position 2s;

    color: var(--color-danger);

    text-shadow: 0px 0px 4px var(--ui-box-color);
}

.button-danger-wait:hover {

    background-position: -100% 0%;
    color: var(--color-danger);
}

.button-danger { 
    color: var(--color-danger);
    text-shadow: 0px 0px 4px var(--ui-box-color);
}

.button-danger:hover { 
    color: var(--color-danger);
    background-color: var(--color-danger-disabled);
}

.button-cta:hover { 
    opacity: .7;
}

/* @keyframes slide { 
    0% { 
        background: linear-gradient(90deg, var(--color-danger) 1%, var(--ui-box-color) 1%);
    }
    100% { 
        background: linear-gradient(90deg, var(--color-danger) 100%, var(--ui-box-color) 100%);
    }
} */

.button-text { 
    background-color: transparent;
    color: var(--text-color);
}

.button-text:hover { 
    text-decoration: underline;
    color: var(--text-color);
}

/* ********* COPYPASTA STARTS ************ */

/* FROM CSSTRICKS @ https://css-tricks.com/custom-styling-form-inputs-with-modern-css-features/ OR https://codepen.io/aaroniker/pen/ZEYoxEY (it's literally 1:1 minus some variables and pickey tweaks) */

/* TODO: Fix the colors, they are just temperary rn */

@supports (-webkit-appearance: none) or (-moz-appearance: none) {

input[type=checkbox]:disabled,
input[type=radio]:disabled {
    --active-inner: var(--mocha-blue);
} 

input[type=checkbox],
input[type=radio] {

  /* --active: var(--blueviolet-2);
  --active-inner: var(--border-color);
  --border-hover: var(--blueviolet-2);
  --background: var(--border-color);
  --disabled: var(--border-color);
  --disabled-inner: var(--blueviolet-2-bg); */

  --active: var(--accent-color);
  --active-inner: var(--ui-box-color);
  --inactive-inner: var(--accent-color); 
  /* --active-inner: red;  */
  --border: var(--ui-box-color); 
  --border-hover: var(--accent-color);
  /* --background: transparent; */
  --background: var(--ui-box-color); 

  --disabled: var(--group-bar-color);
  --disabled-inner: var(--group-bar-color);

  appearance: none;
  
  height: 21px;
  display: inline-block;
  vertical-align: top;
  position: relative;
  margin: 0;
  cursor: pointer;
  border: 1px solid var(--bc, var(--border));
  background: var(--b, var(--background));
  transition: background 0.3s, border-color 0.3s, box-shadow 0.2s;
}
input[type=checkbox]:after,
input[type=radio]:after {
  content: "";

    /* content: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>';  */

  display: block;
  left: 0;
  top: 0;
  position: absolute;

  transition: transform var(--d-t, 0.3s) var(--d-t-e, ease), opacity var(--d-o, 0.2s);
}
input[type=checkbox]:checked,
input[type=radio]:checked {
  --b: var(--active);
  --bc: var(--active);
  --d-o: .3s;
  --d-t: .6s;
  --d-t-e: cubic-bezier(.2, .85, .32, 1.2);
}
input[type=checkbox]:disabled,
input[type=radio]:disabled {
  --b: var(--disabled);
  cursor: not-allowed;
  opacity: 0.9;
}
input[type=checkbox]:disabled:checked,
input[type=radio]:disabled:checked {
  --b: var(--disabled-inner);
  --bc: var(--border);
}
input[type=checkbox]:disabled + label,
input[type=radio]:disabled + label {
  cursor: not-allowed;
}
input[type=checkbox]:hover:not(:checked):not(:disabled),
input[type=radio]:hover:not(:checked):not(:disabled) {
  --bc: var(--border-hover);
}
input[type=checkbox]:focus,
input[type=radio]:focus {
  box-shadow: 0 0 0 var(--focus);
}
input[type=checkbox]:not(.switch),
input[type=radio]:not(.switch) {
  width: 21px;
}
input[type=checkbox]:not(.switch):after,
input[type=radio]:not(.switch):after {
  opacity: var(--o, 0);
}
input[type=checkbox]:not(.switch):checked,
input[type=radio]:not(.switch):checked {
  --o: 1;
}
input[type=checkbox] + label,
input[type=radio] + label {
  font-size: 14px;
  line-height: 21px;
  display: inline-block;
  vertical-align: top;
  cursor: pointer;
  margin-left: 4px;
}

input[type=checkbox]:not(.switch) {
  border-radius: var(--border-ui-box-radius);
}
input[type=checkbox]:not(.switch):after {
  width: 5px;
  height: 9px;
  border: 2px solid var(--active-inner);
  border-top: 0;
  border-left: 0;
  left: 7px;
  top: 4px;
  transform: rotate(var(--r, 20deg));
}
input[type=checkbox]:not(.switch):checked {
  --r: 43deg;
}
input[type=checkbox].switch {
  width: 38px;
  border-radius: 11px;
}
input[type=checkbox].switch:after {
  left: 2px;
  top: 2px;
  border-radius: 50%;
  width: 15px;
  height: 15px;
  background: var(--ab, var(--inactive-inner));
  transform: translateX(var(--x, 0));
}
input[type=checkbox].switch:checked {
  --ab: var(--active-inner);
  --x: 17px;
}
input[type=checkbox].switch:disabled:not(:checked):after {
  opacity: 0.6;
}

label { 
    cursor: pointer;
}


/* input[type=radio] {
    border-radius: 7px;
    margin-right: 0.25rem;
}
input[type=radio]:after {
    width: 5px;
  height: 9px;
  border: 2px solid var(--active-inner);
  border-top: 0;
  border-left: 0;
  left: 7px;
  top: 4px;
  transform: rotate(var(--r, 20deg));
}
input[type=radio]:checked {
    --r: 43deg;
} */

input[type=radio] {
  border-radius: 50%;
  margin-right: var(--small-margin);
}
input[type=radio]:not(:checked) {
    border: 1px solid var(--text-muted);
}
input[type=radio]:after {
    width: 5px;
  height: 9px;
  border: 2px solid var(--active-inner);
  border-top: 0;
  border-left: 0;
  left: 7px;
  top: 4px;
  transform: rotate(var(--r, 20deg));
}
input[type=radio]:checked {
--r: 43deg;
  --s: .5;
}
}
@media (max-width: 800px) {
body {
  flex-direction: column;
}
}  
/* mine again :3 */

.radio-option { 
    padding: var(--standard-padding);
    margin: var(--small-margin);

    display: flex;

    border-radius: var(--border-ui-box-radius);
    background-color: var(--ui-box-color);
}

.radio-option > * { 
    display: block;
}

.radio-option label { 
    flex-grow: 1;
}


/* ADD CLASSES */

.my-message {}
.bot-message {}
.ping-message {}



/* slider base code from https://www.w3schools.com/howto/howto_js_rangeslider.asp */

input[type="range"] {
    -webkit-appearance: none;
    width: 100%;
    height: 4px;
    border-radius: 5px;  
    background: var(--ui-box-color);
    outline: none;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 1rem;
    height: 1rem;
    border-radius: 50%; 
    background: var(--accent-color);
    cursor: pointer;
    border: 0;
    outline: 0;
}

input[type="range"]::-moz-range-thumb {
  width: 1rem;
  height: 1rem;
  border-radius: 50%;
  background: var(--accent-color);
  cursor: pointer;
  border: 0;
    outline: 0;
}



/* How to style select?? also we need colors and ranges and sliders */

/* Select dropdowns are generated by the brower/os and NOT by the html/css, so we need this to style it.
see this stack overflow question: https://stackoverflow.com/questions/7208786/how-to-style-the-option-of-an-html-select-element */

.s-hidden {
  visibility: hidden;
  padding-right: 10px;
}

.select {
  cursor: pointer;
  display: inline-block;
  position: relative;
  font: normal 11px/22px Arial, Sans-Serif;
  color: black;
  border: 1px solid #ccc;
}

.styledSelect {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: white;
  padding: 0 10px;
  font-weight: bold;
}

.styledSelect:after {
  content: "";
  width: 0;
  height: 0;
  border: 5px solid transparent;
  border-color: black transparent transparent transparent;
  position: absolute;
  top: 9px;
  right: 6px;
}

.styledSelect:active,
.styledSelect.active {
  background-color: #eee;
}

.options {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  left: 0;
  z-index: 999;
  margin: 0 0;
  padding: 0 0;
  list-style: none;
  border: 1px solid #ccc;
  background-color: white;
  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  -moz-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.options li {
  padding: 0 6px;
  margin: 0 0;
  padding: 0 10px;
}

.options li:hover {
  background-color: #39f;
  color: white;
}

.context-menu { 
    --context-menu-width: calc(var(--channels-bar-width) + 10rem);

    background-color: var(--ui-box-color);
    width: var(--context-menu-width);

    display: flex;
    flex-direction: column;

    margin: var(--small-margin);
    padding: var(--standard-padding);
    padding-left: 2.5rem;

    border-radius: var(--border-ui-box-radius);
}

.context-menu li { 
    margin: 0;
    display: block;
}
.context-menu a { 
    display: flex;
}

.context-menu li:hover { 
    background-color: var(--color-base);
    border-radius: var(--border-ui-box-radius);
}

.context-menu svg { 
    margin-left: auto;
}

.context-menu input { 
    margin-left: 0 !important;
    margin-right: -3px;
}

.context-menu label { 
    flex-grow: 1;
}

.tooltip { 
    background-color: var(--ui-box-color);
    padding: 0.25rem 0.75rem;
    border-radius: var(--border-ui-box-radius);

    font-size: 0.8rem;

    height: max-content;
}

.absolute-pane { 
    position: absolute;
}

.absolute-pane > * { 
    display: none;
}

.absolute-pane > .visible { 
    display: block;
}

.absolute-pane /*in the ass to get working*/ { 
    position: absolute;
    isolation: isolate;
    z-index: 9999;

    pointer-events: none;

    width: 100vw;
    height: 100vh;
}

.absolute-pane > * { 
    pointer-events: all;
}

.absolute-pane button { 
    width: 100%;
    text-align: left;
    color: inherit;
    font-size: 1rem;
    padding: 0.25rem var(--standard-padding);
    height: auto;

    background-color: inherit;
    border-radius: var(--border-ui-box-radius);

    transition: 50ms;
}

.absolute-pane button:hover { 
    background-color: var(--color-base);
}

.context-menu { 
    background-color: var(--group-bar-color);
    padding: var(--small-padding);
    border-radius: var(--border-ui-box-radius);

    width: 12rem;
    /* border: 2px solid var(--color-base); */
}

.modal { 
    display: block;

    box-shadow: 4px 0px 0px 10000rem var(--overlay-darken-color);

    background-color: var(--ui-box-color);
    width: var(--context-menu-width);

    display: flex;
    flex-direction: column;

    margin: var(--small-margin);
    padding: var(--standard-padding);
    padding-left: 2.5rem;

    border-radius: var(--border-ui-box-radius);
}

.danger, .danger svg { 
    color: var(--color-danger);
    fill: var(--color-danger);
}

.absolute-pane svg, .absolute-pane input { 
    margin-left: auto;
}

.context-menu button { 
    display: flex;
}

a { 
    text-decoration: none;
    color: var(--accent-color);
}

a:hover { 
    text-decoration: none;
    color: var(--accent-color);
    opacity: .7;
}


/* Copyied from w3 schools/tooltip */
/* https://www.w3schools.com/css/css_tooltip.asp */

/* Tooltip container */
.has-tooltip {
    position: relative;
}

/* Tooltip text */
.has-tooltip .tooltip {
    width: max-content;
    visibility: hidden;
    width: max-content;
    padding: 0.25rem var(--standard-padding);
    background-color: var(--group-bar-color);
    /* background-color: blue; */
    height: 1.75rem;
    color: #fff;
    text-align: center;
    border-radius: var(--border-ui-box-radius);
    
    /* Position the tooltip text - see examples below! */
    position: absolute;

    z-index: 9999;
}

[role="groups"] .tooltip { 
    margin-top: 0.75rem;
}

/* Show the tooltip text when you mouse over the tooltip container */
.has-tooltip:hover .tooltip {
    visibility: visible;
    animation: pop-in var(--popup-delay);
}

.has-tooltip .right-tooltip {
  top: -5px;
  left: 115%;
}

[role="groups"] .right-tooltip {
  top: -5px;
  left: 4rem;
}

.has-tooltip .right-tooltip::after {
    content: "";
    position: absolute;
    top: 50%;
    right: 100%; /* To the left of the tooltip */
    margin-top: -5px;
    border-width: 5px;
    border-style: solid;

    /* border-color: transparent blue transparent transparent; */
    border-color: transparent var(--group-bar-color) transparent transparent;
}

/* Might make it just a class that determines if the popup takes time becayse I want the groups tooltip to show up immeitely.*/

[role="groups"] .has-tooltip .tooltip { 
    animation: pop-in 1ms;
}

/* Used to create a delayed show up effect with pure css. */
@keyframes pop-in { 
    from { visibility: hidden; }
    99% { visibility: hidden; }
    to { visibility: visible; }
}

a { 
    cursor: pointer;
}

a.author { 
    color: var(--text-color);
}

a.author:hover { 
    opacity: 1;
    text-decoration: underline;
}

</style>
<body>

<script>
document.onclick = hideMenu; 
document.oncontextmenu = rightClick; 

window.contextMenuCoordinates = [];

// Sets a timer for a few frames to allow the page to load before checking
let checkForBoxTimer = setTimeout(connectMessageBox, 10);

// Connects the message box from rust to the DOM so we are able to read input, if it fails, trys again in a few frames.
function connectMessageBox() {
    try {
        const message_box = document.getElementById("message-box");

        message_box.oninput = function(e) {
            if ((message_box.innerHTML == "<br>") || (message_box.innerHTML == "<div><br></div>")) {
                message_box.innerHTML = "";
            }
        } 
        clearTimeout(checkForBoxTimer);
    } catch (error) {
        console.log("Message box not found: " + error + "\nTrying again...");
        checkForBoxTimer = setTimeout(connectMessageBox, 10);
    }
}

function hideMenu() { 
    document.getElementById("contextMenu") 
            .style.display = "none" 
} 

function rightClick(e) { 
    if (document.getElementById("contextMenu").style.display == "block") { 

        // if you right click again when the menu is open, check to see 
        // if the location was within 20 pixels of its current location. 
        // If so: Don't re-open it, allow the  defult context meny. 
        // If not: do the standard behavor of close/open.
        if ((e.pageX > contextMenuCoordinates[0] + 20) || 
            (e.pageX < contextMenuCoordinates[0] - 20) || 

            (e.pageY > contextMenuCoordinates[1] + 20) || 
            (e.pageY > contextMenuCoordinates[1] + 20)) { 
            e.preventDefault();
            hideMenu(); 
        } 
    } else { 
        e.preventDefault(); 

        var menu = document.getElementById("contextMenu")
        menu.style.display = 'block'; 
        menu.style.marginLeft = e.pageX + "px"; 
        menu.style.marginTop = e.pageY + "px"; 
    }

    contextMenuCoordinates[0] = e.pageX;
    contextMenuCoordinates[1] = e.pageY;
} 
</script>
</body>
</html>